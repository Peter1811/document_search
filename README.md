# Поисковик по текстам документов
## Гайд по поднятию сервиса
Запуск описывается для операционной системы Windows 10 (cmd)
1) Выполнить установку необходимых библиотек в виртуальное окружение из файла `requirements.txt`
```
python -m venv venv
venv/Scripts/activate
pip install -r requirements.txt
```

2) Поднять кластер elasticsearch (предварительно необходимо установить его, скачав с официального сайта)
```
<название директории, в которую был распакован архив с elasticsearch>/bin/elasticsearch
```

3) Создать в корневой директории проекта два файла: .env_database и .env_services со следующим содержимым
### .env_database
```
USERNAME=
PASSWORD=
HOST=
PORT=
DATABASE=
```

### .env_services
```
ELASTICSEARCH_HOST=
ELASTICSEARCH_PORT=
RUN_HOST=
RUN_PORT=
```
Подставить необходимые значения - это нужно для подключения к БД (используется postgresql) и elasticsearch, а также для непосредственного запуска сервиса

4) Выполнить в командной строке следующую команду (для создания таблиц в БД)
```
alembic upgrade head
```

5) Запустить скрипт для заполнения базы данных `db_filling.py` (предварительно необходимо добавить данные в файл `posts.csv` - содержимое, дату создания и массив рубрик)
```
python scripts/db_filling.py
```
6) Запустить сервис
```
python main.py
```
7) Открыть в браузере выведенный в командной строке адрес, добавить в конец адресной строки `/docs` - там можно выполнять тестирование сервиса.
